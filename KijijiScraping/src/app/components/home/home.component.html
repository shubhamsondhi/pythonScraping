<div class="jumbotron ">
    <div class="container">
        <form #rentHomes="ngForm" class="example-form">
            <div class="row">
                <div class="col-lg-10">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon3"
                                >URL:</span
                            >
                        </div>
                        <input
                            type="text"
                            class="form-control"
                            #urlBox="ngModel"
                            [disabled]="!isEnteringUrl"
                            [(ngModel)]="url"
                            required
                            appUrlValidator
                            name="urlBox"
                            aria-describedby="basic-addon3"
                        />
                    </div>
                </div>
                <div class="col-lg-2">
                    <button
                        name="runbutton"
                        [disabled]="!this.url"
                        mat-raised-button
                        color="primary"
                        (click)="getRentedHouses()"
                    >
                        Run
                    </button>
                </div>
            </div>
            <div
                *ngIf="urlBox.invalid && (urlBox.dirty || urlBox.touched)"
                class="alert alert-danger"
            >
                <div *ngIf="urlBox.errors['required']">
                    URL is required.
                </div>
                <div *ngIf="urlBox.errors['isUrlValid']">
                    Please enter the correct url.
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-lg-1">
                    <!-- /empty space for design purpose -->
                </div>
                <div class="col-lg-3">
                    <mat-checkbox name="isKeep" [(ngModel)]="isKeep"
                        >Keep Last result:</mat-checkbox
                    >
                </div>

                <div class="col-lg-2">
                    <button
                        name="deleteButton"
                        mat-raised-button
                        color="primary"
                        (click)="DeleteHistoryData()"
                    >
                        Delete History
                    </button>
                </div>
                <button mat-button [matMenuTriggerFor]="menu">
                    Advance Serach Features
                </button>
                <mat-menu #menu="matMenu">
                    <button
                        matTooltip="After creating search result in kijiji you need to copy the url and past it here"
                        mat-menu-item
                        name="isEnteringUrl"
                        (click)="isEnteringUrl=!isEnteringUrl"

                    >
                        Enter url from kijiji
                    </button>
                    <button
                        matTooltip="Select area by circle to get the result inside the circle only"
                        mat-menu-item
                        (click)="isDrawingCircle=!isDrawingCircle"
                    >
                        Draw Circle
                    </button>
                </mat-menu>
            </div>
        </form>
        <!-- <mat-progress-bar mode="buffer"></mat-progress-bar> -->
    </div>
</div>

<!-- section 2 -->
<div class="container text-center">
    <div class="col-lg-12" style="padding-bottom:10px">
        <app-mb-map
            [drawCircle]="isDrawingCircle"
            (circleChanged)="circleChanged($event)"
            [data]="scrapedData"
        ></app-mb-map>
    </div>
    <!-- <button mat-raised-button color="primary">Download CSV</button> -->
</div>

<!-- Content here -->
